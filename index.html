<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Overlay RPG Ordem Paranormal</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    background: transparent; /* OBS-friendly */
    font-family: 'Courier New', monospace;
    color: #fff;
    overflow: hidden;
  }

  #overlay-container {
    width: 400px;
    margin: 20px auto;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    position: relative;
  }

  /* Portrait estilo Desconjuração */
  #portrait {
    width: 120px;
    height: 120px;
    border-radius: 8px;
    object-fit: cover;
    border: 3px solid #000;
    margin-right: 15px;
    background: #111;
    cursor: pointer;
  }

  /* Stats neon/sangrento à direita */
  .stats {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .stat {
    font-size: 28px;
    font-weight: bold;
    text-shadow:
      0 0 3px #ff0000,
      0 0 5px #ff0000,
      0 0 10px #ff5555;
    margin: 2px 0;
    text-align: right;
  }

  .stat.hp { color: #ff5555; } /* Vida */
  .stat.san { color: #55ffff; } /* Sanidade */

  /* PE simples embaixo */
  .pe {
    font-size: 20px;
    color: #ffcc00;
    text-align: right;
  }

  /* Menu de configurações */
  #menu {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0,0,0,0.7);
    padding: 10px;
    border-radius: 10px;
    z-index: 10;
  }

  #menu button {
    margin: 2px;
    padding: 4px 8px;
    border-radius: 5px;
    border: none;
    cursor: pointer;
    background: #222;
    color: #0ff;
  }

  #menu input[type="file"] {
    display: none;
  }
</style>
</head>
<body>

<!-- Jogador Selector -->
<div id="player-selector" style="text-align:center; margin-bottom:10px;">
  <strong>Selecionar Jogador:</strong>
  <button onclick="selectPlayer(0)" style="background:#ff5555;color:#fff;">Jogador 1</button>
  <button onclick="selectPlayer(1)" style="background:#55ff55;color:#000;">Jogador 2</button>
  <button onclick="selectPlayer(2)" style="background:#5555ff;color:#fff;">Jogador 3</button>
  <button onclick="selectPlayer(3)" style="background:#ff55ff;color:#000;">Jogador 4</button>
  <button onclick="selectPlayer(4)" style="background:#ffaa00;color:#000;">Jogador 5</button>
</div>

<div id="overlay-container">
  <img id="portrait" src="portrait_normal.png" alt="Portrait do Jogador">
  <div class="stats">
    <div class="stat hp">12/12</div>
    <div class="stat san">43/45</div>
    <div class="pe">PE: 3</div>
  </div>
</div>

<!-- Menu -->
<div id="menu">
  <strong>Configurações</strong><br>
  <button onclick="changeStat('hp',1)">+HP</button>
  <button onclick="changeStat('hp',-1)">-HP</button><br>
  <button onclick="changeStat('san',1)">+SAN</button>
  <button onclick="changeStat('san',-1)">-SAN</button><br>
  <button onclick="changeStat('pe',1)">+PE</button>
  <button onclick="changeStat('pe',-1)">-PE</button><br>
  <button onclick="document.getElementById('portraitInput').click()">Carregar Portrait</button>
  <input type="file" id="portraitInput" accept="image/*" onchange="loadPortrait(event)">
  <br>
  <button onclick="changePortrait('normal')">Normal</button>
  <button onclick="changePortrait('medo')">Medo</button>
  <button onclick="changePortrait('morrendo')">Morrendo</button>
</div>

<script>
  const players = [
    {hp:12, maxHp:12, san:43, maxSan:45, pe:3, portrait:'portrait_normal.png'},
    {hp:12, maxHp:12, san:43, maxSan:45, pe:3, portrait:'portrait_normal.png'},
    {hp:12, maxHp:12, san:43, maxSan:45, pe:3, portrait:'portrait_normal.png'},
    {hp:12, maxHp:12, san:43, maxSan:45, pe:3, portrait:'portrait_normal.png'},
    {hp:12, maxHp:12, san:43, maxSan:45, pe:3, portrait:'portrait_normal.png'},
  ];

  let currentPlayer = 0;

  function selectPlayer(index){
    currentPlayer = index;
    updateOverlay();
  }

  function changeStat(stat, amount){
    const p = players[currentPlayer];
    if(stat === 'hp'){
      p.hp += amount;
      if(p.hp < 0) p.hp = 0;
      if(p.hp > p.maxHp) p.hp = p.maxHp;
    } else if(stat === 'san'){
      p.san += amount;
      if(p.san < 0) p.san = 0;
      if(p.san > p.maxSan) p.san = p.maxSan;
    } else if(stat === 'pe'){
      p.pe += amount;
      if(p.pe < 0) p.pe = 0;
    }
    updateOverlay();
  }

  function changePortrait(state){
    const p = players[currentPlayer];
    p.portrait = 'portrait_' + state + '.png';
    updateOverlay();
  }

  function loadPortrait(event){
    const file = event.target.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = function(e){
        players[currentPlayer].portrait = e.target.result;
        updateOverlay();
      };
      reader.readAsDataURL(file);
    }
  }

  function updateOverlay(){
    const p = players[currentPlayer];
    document.getElementById('portrait').src = p.portrait;
    document.querySelector('.stat.hp').innerText = `${p.hp}/${p.maxHp}`;
    document.querySelector('.stat.san').innerText = `${p.san}/${p.maxSan}`;
    document.querySelector('.pe').innerText = `PE: ${p.pe}`;
  }

  updateOverlay();
</script>
</body>
</html>
